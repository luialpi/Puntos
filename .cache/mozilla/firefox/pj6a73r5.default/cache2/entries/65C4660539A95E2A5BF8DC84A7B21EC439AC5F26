function runPlayer(){if(checkAdBlock()){var e=null;mostrarLogs("Cargando reproductor");if(checkIE()&&(checkIE()<=10||prerollConfig.type=="intext")){mostrarLogs(checkIE());function_Complete();return false}if(!$("#"+prerollConfig.idPlayer).length){mostrarLogs("Error ID no valido: "+prerollConfig.idPlayer);function_Complete();return false}$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",prerollConfig.css));$("#"+prerollConfig.idPlayer).html('<div id="PrerollPlayer">'+'<video id="PrerollContent" '+(prerollConfig.VideoMp4||prerollConfig.VideoWebm||prerollConfig.VideoOgg?"":'style="display: none;"')+">"+(prerollConfig.VideoMp4?'<source src="'+prerollConfig.VideoMp4+'" type="video/mp4">':"")+(prerollConfig.VideoWebm?'<source src="'+prerollConfig.VideoWebm+'" type="video/webm">':"")+(prerollConfig.VideoOgg?'<source src="'+prerollConfig.VideoOgg+'" type="video/ogg">':"")+"</video>"+'<div id="PrerollAdcontainer"></div>'+(!prerollConfig.buttons?'<div id="video_controls" '+(prerollConfig.VideoMp4||prerollConfig.VideoWebm||prerollConfig.VideoOgg?"":'style="display: none;"')+">"+'<button id="playpause"><i class="prerroll-play"></i></button>'+'<label id="timead"></label>'+'<button id="muted"><i class="prerroll-volume-high"></i></button>'+"</div>":'<div id="video_controls" style="position: relative; top: -1000px;">'+'<button id="playpause"><i class="prerroll-play"></i></button>'+'<label id="timead"></label>'+'<button id="muted"><i class="prerroll-volume-high"></i></button>'+"</div>")+(prerollConfig.cerrar=="on"?'<div id="close_video" onClick="function_Complete();">Cerrar Publicidad</div>':"")+"</div>");$("#PrerollPlayer").css({width:prerollConfig.prerollWidth,height:prerollConfig.prerollHeight});try{$.getScript("http://s0.2mdn.net/instream/html5/ima3.js",function(){mostrarLogs("Libreria IMA cargada");e=new Application;if(prerollConfig.show!="off"){prerollShow()}control_video()})}catch(t){mostrarLogs(t)}}}function prerollShow(){mostrarLogs("Mostrar preroll");$("#video_controls").show();$("#playpause").click()}function control_video(){video=document.getElementById("PrerollContent");video.addEventListener("loadedmetadata",function(){prerollConfig.vLength=Math.floor(video.duration)},false);video.addEventListener("timeupdate",function(){prerollConfig.vTime=video.currentTime;document.getElementById("timead").textContent=secondToTime(prerollConfig.vLength-prerollConfig.vTime)+" / "+secondToTime(prerollConfig.vTime)},false)}function secondToTime(e){var t=new Date(Math.floor(e)*1e3);var n=t.getHours()==0?23:t.getHours()-1;var n=n<9?"0"+n:n;var r=t.getMinutes()<9?"0"+t.getMinutes():t.getMinutes();var i=t.getSeconds()<9?"0"+t.getSeconds():t.getSeconds();return n+":"+r+":"+i}function check_variables_preroll(){if(prerollConfig!==undefined&&prerollConfig!==""){prerollConfig=JSON&&JSON.parse(prerollConfig)||$.parseJSON(prerollConfig);mostrarLogs(prerollConfig,"dir");if(!prerollConfig.idPlayer){mostrarLogs("Error: No se ha indicado el la capa del reproductor");function_Complete();return false}if(!prerollConfig.urlPublicidad){mostrarLogs("Error: No se ha indicado el la capa del reproductor");function_Complete();return false}else{mostrarLogs("Url Publicidad: "+prerollConfig.urlPublicidad)}if(!prerollConfig.urlJquery){prerollConfig.urlJquery="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"}if(!prerollConfig.prerollWidth){prerollConfig.prerollWidth=640}if(!prerollConfig.prerollHeight){prerollConfig.prerollHeight=360}if(!prerollConfig.autoplay){prerollConfig.autoplay="on"}if(!prerollConfig.show){prerollConfig.show="on"}if(!prerollConfig.mute){prerollConfig.mute="off"}if(!prerollConfig.buttons){prerollConfig.buttons=true}if(!prerollConfig.css){prerollConfig.css="http://img.rincondelvago.com/js/preroll/preroll_html5.css"}if(!prerollConfig.adBlockText){prerollConfig.adBlockText=""}if(!prerollConfig.textInfo){prerollConfig.textInfo="La descarga comenzar谩 en"}if(!prerollConfig.cerrar){prerollConfig.cerrar="off"}if(prerollConfig.VideoMp4){mostrarLogs("Url Video Mp4: "+prerollConfig.VideoMp4)}if(prerollConfig.VideoWebm){mostrarLogs("Url Video Webm: "+prerollConfig.VideoWebm)}if(prerollConfig.VideoOgg){mostrarLogs("Url Video Ogg: "+prerollConfig.VideoOgg)}$("head").append('<style type="text/css">'+'@font-face {font-family: "preroll";src: url(data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMggi/LkAAAC8AAAAYGNtYXAaVcxaAAABHAAAAExnYXNwAAAAEAAAAWgAAAAIZ2x5ZkQzZZMAAAFwAAAChGhlYWT/oHnKAAAD9AAAADZoaGVhBAICCQAABCwAAAAkaG10eAkgAKAAAARQAAAAIGxvY2ECigGcAAAEcAAAABJtYXhwAA0AjgAABIQAAAAgbmFtZUFGytEAAASkAAABOXBvc3QAAwAAAAAF4AAAACAAAwIAAZAABQAAAUwBZgAAAEcBTAFmAAAA9QAZAIQAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADmAwHg/+D/4AHgACAAAAABAAAAAAAAAAAAAAAgAAAAAAACAAAAAwAAABQAAwABAAAAFAAEADgAAAAKAAgAAgACAAEAIOYD//3//wAAAAAAIOYA//3//wAB/+MaBAADAAEAAAAAAAAAAAAAAAEAAf//AA8AAQAAAAAAAAAAAAIAADc5AQAAAAABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAgAAAAcB4AG5ABAAIAAAEz4BHgEXAxYOASYvAz8BAQcvAQ8BPwEvATcXNx8BB8kFCAcDAQEBBQUKA3pPAVF4ARgBKTc1KwE1NQErNTcpATcBuQUDAgkG/mEGCQIDBXgBvwF4/vIrATU1ASs1NykBNzcBKTcAAAAABAAAAAcCIAG5AC0AVgB6AIsAACUiLgInLgE0Njc+AzU0LgInLgE0Njc+ATIWFx4DFRQOAgcOAyMnIi4CJy4BNDY3PgE0JicuATQ2Nz4BMhYXHgMVFA4CBw4DIyciLgInLgE0Njc+ATQmJy4BNDY3PgEyFhceARQGBw4DIwM+AR4BFREUDgEmLwEjNTM3Ab0CBQQEAgMEBAMQGhEJCREaEAMEBAMECAoIBBQeFQsLFR4UAgQEBQJVAwQEBAIEAwMEGBkZGAQDAwQDCQkJBA8YEAgIEBgPAgQEBQJVAwQFBAEEAwMEDw8PDwQDAwQDCQkJAxcWFhcBBAUEAkoECQYEBAYJBHlQUHkTAQICAgQICggEECYqLRcXLSomEAQICggEBAMDBBQuMjYcHDYyLhQCAgIBLQECAwEECQkJAxk+QD4ZAwkJCQQDBAQDECMnKRYWKScjEAEDAgEtAQIDAgMJCQkDECYoJhADCQkJAwQEBAQWODo4FgIDAgEBTAQEAwgH/mIHCAMEBHnAeQAAAQBgACABoAGgAAIAABMNAWABQP7AAaDAwAAAAAIAQAAgAcABoAADAAcAABMzESMTMxEjQKCg4KCgAaD+gAGA/oAAAAABAAAAAQAAz5cfjl8PPPUACwIAAAAAAM8xHIoAAAAAzzEcigAAAAACIAG5AAAACAACAAAAAAAAAAEAAAHg/+AAAAIgAAAAAAIgAAEAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAQAAAAIAAAACIAAAAgAAYAIAAEAAAAAAAAoAFAAeAFoBIAEuAUIAAAABAAAACACMAAQAAAAAAAIAAAAAAAAAAAAAAAAAAAAAAAAADgCuAAEAAAAAAAEADgAAAAEAAAAAAAIADgBHAAEAAAAAAAMADgAkAAEAAAAAAAQADgBVAAEAAAAAAAUAFgAOAAEAAAAAAAYABwAyAAEAAAAAAAoAKABjAAMAAQQJAAEADgAAAAMAAQQJAAIADgBHAAMAAQQJAAMADgAkAAMAAQQJAAQADgBVAAMAAQQJAAUAFgAOAAMAAQQJAAYADgA5AAMAAQQJAAoAKABjAHAAcgBlAHIAbwBsAGwAVgBlAHIAcwBpAG8AbgAgADEALgAwAHAAcgBlAHIAbwBsAGxwcmVyb2xsAHAAcgBlAHIAbwBsAGwAUgBlAGcAdQBsAGEAcgBwAHIAZQByAG8AbABsAEcAZQBuAGUAcgBhAHQAZQBkACAAYgB5ACAASQBjAG8ATQBvAG8AbgAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA) format("truetype"),url(data:application/font-woff;charset=utf-8;base64,d09GRk9UVE8AAAWAAAoAAAAABTgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAAAfUAAAH1u5aXUE9TLzIAAALsAAAAYAAAAGAIIvy5Y21hcAAAA0wAAABMAAAATBpVzFpnYXNwAAADmAAAAAgAAAAIAAAAEGhlYWQAAAOgAAAANgAAADb/oHnKaGhlYQAAA9gAAAAkAAAAJAQCAglobXR4AAAD/AAAACAAAAAgCSAAoG1heHAAAAQcAAAABgAAAAYACFAAbmFtZQAABCQAAAE5AAABOUFGytFwb3N0AAAFYAAAACAAAAAgAAMAAAEABAQAAQEBCHByZXJvbGwAAQIAAQA6+BwC+BsD+BgEHgoAGVP/i4seCgAZU/+LiwwHi2v4tPh0BR0AAACIDx0AAACNER0AAAAJHQAAAewSAAkBAQgPERMWGyAlKnByZXJvbGxwcmVyb2xsdTB1MXUyMHVFNjAwdUU2MDF1RTYwMnVFNjAzAAACAYkABgAIAgABAAQABwAKAA0AWQEfAS0BS/yUDvyUDvyUDvuUDvdd+E0VmJiVhot5CIv8MgWLeYGHfpcI+w33DTuLi/dU24v3DfcNBfer+6MVi2Fhi1XBVVVhi4u1wcFVwYu1tYvBVcHBtYuLYVVVBQ6r+FGeFYWLhY2GkIKUi5uUlLe3o8WLyYvJc8Vft4KUi5uUlJSUm4uUgsBWqEWLQItAbkVWVgiGhoWJhYsINrgVhYuEjoePgZWLmpWUzM2L9UrNgZSLmpWVlJSai5WCtGKhVYtRi1F1VWJihoeFiIWLCDa4FYSLhY6HkIGUi5qVlLO0i81jtIGUi5qVlJSVmouUgcdQiytPUIeGhYiFiwhB9+AVmJiVhot5CIv8MgWLeYGHfpcI+w33DTuLi/dU24v3DfcNBQ7r+DQV99T7VPvU+1QFDsv4NBX3NIuL/BT7NIsF93T4FBX3NIuL/BT7NIsFDviUFPiUFYsMCgAAAAADAgABkAAFAAABTAFmAAAARwFMAWYAAAD1ABkAhAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOYDAeD/4P/gAeAAIAAAAAEAAAAAAAAAAAAAACAAAAAAAAIAAAADAAAAFAADAAEAAAAUAAQAOAAAAAoACAACAAIAAQAg5gP//f//AAAAAAAg5gD//f//AAH/4xoEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAQAAJzFnG18PPPUACwIAAAAAAM8xHIoAAAAAzzEcigAAAAACIAG5AAAACAACAAAAAAAAAAEAAAHg/+AAAAIgAAAAAAIgAAEAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAQAAAAIAAAACIAAAAgAAYAIAAEAAAFAAAAgAAAAAAA4ArgABAAAAAAABAA4AAAABAAAAAAACAA4ARwABAAAAAAADAA4AJAABAAAAAAAEAA4AVQABAAAAAAAFABYADgABAAAAAAAGAAcAMgABAAAAAAAKACgAYwADAAEECQABAA4AAAADAAEECQACAA4ARwADAAEECQADAA4AJAADAAEECQAEAA4AVQADAAEECQAFABYADgADAAEECQAGAA4AOQADAAEECQAKACgAYwBwAHIAZQByAG8AbABsAFYAZQByAHMAaQBvAG4AIAAxAC4AMABwAHIAZQByAG8AbABscHJlcm9sbABwAHIAZQByAG8AbABsAFIAZQBnAHUAbABhAHIAcAByAGUAcgBvAGwAbABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("woff");font-weight: normal;font-style: normal;}'+'[class^="prerroll-"], [class*=" prerroll-"] {font-family: "preroll";speak: none;font-style: normal;font-weight: normal;font-variant: normal;text-transform: none;line-height: 1;-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}'+'.prerroll-volume-mute:before {content: "\\e600";}'+'.prerroll-volume-high:before {content: "\\e601";}'+'.prerroll-play:before {content: "\\e602";}'+'.prerroll-pause:before {content: "\\e603";}'+"</style>");return true}else{return false}}function function_Started(){$("#PrerollPlayer").removeClass("hide");if(prerollConfig.type=="intext"){video_intext_inicio()}if(prerollConfig.functionStarted){mostrarLogs("Funcion comienzo ejecutada: "+prerollConfig.functionStarted);eval(prerollConfig.functionStarted+"()")}}function function_FirstQuartile(){if(prerollConfig.functionFirstQuartile){mostrarLogs("Funcion primer cuarto ejecutada: "+prerollConfig.functionFirstQuartile);eval(prerollConfig.functionFirstQuartile+"()")}}function function_Midpoint(){if(prerollConfig.functionMidpoint){mostrarLogs("Funcion intermedia ejecutada: "+prerollConfig.functionMidpoint);eval(prerollConfig.functionMidpoint+"()")}}function function_ThirdQuartile(){if(prerollConfig.functionThirdQuartile){mostrarLogs("Funcion tercer cuarto ejecutada: "+prerollConfig.functionThirdQuartile);eval(prerollConfig.sfunctionThirdQuartile+"()")}}function function_Complete(){if(prerollConfig.type=="intext"){video_intext_fin()}if(prerollConfig.functionComplete){mostrarLogs("Funcion final ejecutada: "+prerollConfig.functionComplete);eval(prerollConfig.functionComplete+"()")}if(document.getElementById("timead")!=null){document.getElementById("timead").innerHTML=""}}function mostrarLogs(){if(prerollConfig.logs){console.log("Preroll - "+arguments[0]);if(arguments[1]=="dir"){console.dir(arguments[0])}}}function checkIE(){if(navigator.appName=="Microsoft Internet Explorer"){ie=true;ieVersion=false;var e=navigator.userAgent;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(e)!=null){ieVersion=parseInt(RegExp.$1)}mostrarLogs("Versi贸n IE: "+ieVersion);return ieVersion}return false}function checkAdBlock(){$("body").append('<div class="adzone" style="display:none;">&nbsp;</div>');if($(".adzone").height()==0){mostrarLogs("AdBlock activado");if(prerollConfig.adBlockText!=""){$("#"+prerollConfig.idPlayer).html(prerollConfig.adBlockText).css({background:"none",color:"red"})}else{function_Complete()}return false}else{return true}}function video_intext(){$(document).scroll(function(){var e=$("#"+prerollConfig.idPlayer).offset().top+$("#"+prerollConfig.idPlayer).outerHeight()+prerollConfig.prerollHeight;var t=$("#"+prerollConfig.idPlayer).offset().top+prerollConfig.prerollHeight/2+prerollConfig.video_intext_margin_bottom/2;var n=$(document).scrollTop()+$(window).height()-prerollConfig.video_intext_margin_bottom;if(n>e&&!video_intext_show&&!video_intext_pause){video_intext_show=true;runPlayer()}else if(n<t&&video_intext_show&&!video_intext_pause){mostrarLogs("Video en pausa abajo");video_intext_pause=true;$("#playpause").click()}else if(n-prerollConfig.video_intext_margin_bottom/2>e&&video_intext_show&&!video_intext_pause){mostrarLogs("Video en pausa arriba");video_intext_pause=true;$("#playpause").click()}else if(n>t&&n-prerollConfig.video_intext_margin_bottom/2<e&&video_intext_show&&video_intext_pause){video_intext_pause=false;mostrarLogs("Video continuar");$("#playpause").click()}mostrarLogs("Intext -> window bottom: "+n);mostrarLogs("Intext -> video bottom: "+e);mostrarLogs("Intext -> video pause bottom: "+t)})}function video_intext_inicio(){mostrarLogs("inicio anuncio");prerollConfig.video_intext_show=true;$("#"+prerollConfig.idPlayer).animate({width:prerollConfig.prerollWidth+"px",height:prerollConfig.prerollHeight+"px"},500).delay(500).queue(function(){$(this).css("opacity","1").dequeue()})}function video_intext_fin(){mostrarLogs("fin anuncio");$("#"+prerollConfig.idPlayer).animate({width:"1px",height:"1px"},500).css("opacity","0").queue(function(){$(this).html("").dequeue()})}var prerollConfig="";var video_intext_show=false;var video_intext_pause=false;var video_intext_mute="off";window.onload=function(){if(check_variables_preroll()){mostrarLogs("Variables de configuraci贸n validas");if(typeof jQuery!=="function"){mostrarLogs("Sin jQuery: Cargarndo jQuery");var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src",prerollConfig.urlJquery);e.onload=function(){mostrarLogs("jquery cargado");if(prerollConfig.autoplay!="off"){runPlayer()}};document.getElementsByTagName("head")[0].appendChild(e)}else{mostrarLogs("Con jQuery");if(prerollConfig.type=="intext"){video_intext()}if(prerollConfig.autoplay!="off"){runPlayer()}}}else{mostrarLogs("Error en la configuraci贸n del preroll")}};var countdownTimer;var Application=function(){this.playButton_=document.getElementById("playpause");this.playButton_.addEventListener("click",this.bind_(this,this.onClick_),false);this.muteButton=document.getElementById("muted");this.muteButton.addEventListener("click",this.bind_(this,this.onMuteClick_),false);this.muted=false;this.playing_=false;this.adsActive_=false;this.adsDone_=false;this.videoPlayer_=new VideoPlayer;this.ads_=new Ads(this,this.videoPlayer_);this.adTagUrl_=prerollConfig.urlPublicidad;this.videoPlayer_.registerVideoEndedCallback(this.bind_(this,this.onContentEnded_))};Application.prototype.log=function(e){mostrarLogs(e)};Application.prototype.resumeAfterAd=function(){this.videoPlayer_.play();this.adsActive_=false;this.updateChrome_()};Application.prototype.pauseForAd=function(){this.adsActive_=true;this.playing_=true;this.videoPlayer_.pause();this.updateChrome_()};Application.prototype.adClicked=function(){this.playing_=false;this.updateChrome_()};Application.prototype.adCounter=function(){this.ads_.Counter_()};Application.prototype.bind_=function(e,t){return function(){t.apply(e,arguments)}};Application.prototype.onClick_=function(){if(!this.adsDone_){this.ads_.initialUserAction();this.videoPlayer_.preloadContent(this.bind_(this,this.loadAds_));this.adsDone_=true;return}if(this.adsActive_){if(this.playing_){this.ads_.pause()}else{this.ads_.resume()}}else{if(this.playing_){this.videoPlayer_.pause()}else{this.videoPlayer_.play()}}this.playing_=!this.playing_;this.updateChrome_()};Application.prototype.onMuteClick_=function(){if(this.muted==false){this.videoPlayer_.muted();this.ads_.muted();this.muted=true;document.getElementById("muted").innerHTML='<i class="prerroll-volume-mute"></i>'}else{this.videoPlayer_.unmuted();this.ads_.unmuted();this.muted=false;document.getElementById("muted").innerHTML='<i class="prerroll-volume-high"></i>'}};Application.prototype.updateChrome_=function(){if(this.playing_){document.getElementById("playpause").innerHTML='<i class="prerroll-pause"></i>'}else{document.getElementById("playpause").innerHTML='<i class="prerroll-play"></i>'}};Application.prototype.loadAds_=function(){this.ads_.requestAds(this.adTagUrl_)};Application.prototype.onContentEnded_=function(){this.ads_.contentEnded()};var countdownTimer;var Ads=function(e,t){this.application_=e;this.videoPlayer_=t;this.contentCompleteCalled_=false;this.adDisplayContainer_=new google.ima.AdDisplayContainer(this.videoPlayer_.adContainer);this.adsLoader_=new google.ima.AdsLoader(this.adDisplayContainer_);this.adsManager_=null;this.adsLoader_.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded_,false,this);this.adsLoader_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,false,this)};Ads.prototype.initialUserAction=function(){this.adDisplayContainer_.initialize()};Ads.prototype.requestAds=function(e){var t=new google.ima.AdsRequest;t.adTagUrl=e;t.linearAdSlotWidth=this.videoPlayer_.width;t.linearAdSlotHeight=this.videoPlayer_.height;t.nonLinearAdSlotWidth=this.videoPlayer_.width;t.nonLinearAdSlotHeight=this.videoPlayer_.height;this.adsLoader_.requestAds(t)};Ads.prototype.pause=function(){if(this.adsManager_){this.adsManager_.pause()}};Ads.prototype.resume=function(){if(this.adsManager_){this.adsManager_.resume()}};Ads.prototype.resize=function(e,t){if(this.adsManager_){this.adsManager_.resize(e,t,google.ima.ViewMode.FULLSCREEN)}};Ads.prototype.contentEnded=function(){this.contentCompleteCalled_=true;this.adsLoader_.contentComplete()};Ads.prototype.onAdsManagerLoaded_=function(e){mostrarLogs("Ads loaded.");this.adsManager_=e.getAdsManager(this.videoPlayer_.contentPlayer);this.processAdsManager_(this.adsManager_)};Ads.prototype.processAdsManager_=function(e){e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_,false,this);e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_,false,this);e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,false,this);var t=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE];for(var n in t){e.addEventListener(t[n],this.onAdEvent_,false,this)}var r,i;r=this.videoPlayer_.width;i=this.videoPlayer_.height;e.init(r,i,google.ima.ViewMode.NORMAL);e.start()};Ads.prototype.onContentPauseRequested_=function(e){this.application_.pauseForAd()};Ads.prototype.onContentResumeRequested_=function(e){if(!this.contentCompleteCalled_){this.application_.resumeAfterAd()}};Ads.prototype.onAdEvent_=function(e){mostrarLogs("Ad event: "+e.type);if(e.type==google.ima.AdEvent.Type.CLICK){this.application_.adClicked()}if(e.type==google.ima.AdEvent.Type.FIRST_QUARTILE){function_FirstQuartile()}if(e.type==google.ima.AdEvent.Type.MIDPOINT){function_Midpoint()}if(e.type==google.ima.AdEvent.Type.THIRD_QUARTILE){function_ThirdQuartile()}if(e.type==google.ima.AdEvent.Type.COMPLETE){function_Complete();clearInterval(countdownTimer)}if(e.type==google.ima.AdEvent.Type.ALL_ADS_COMPLETED){function_Complete();clearInterval(countdownTimer)}if(e.type==google.ima.AdEvent.Type.STARTED){if(prerollConfig.mute=="on"){this.adsManager_.setVolume(0)}video_intext_mute=this;if(prerollConfig.type=="intext"){$("#PrerollPlayer").mouseover(function(){mostrarLogs("Mouse Over Mute Off");video_intext_mute.adsManager_.setVolume(1)});$("#PrerollPlayer").mouseout(function(){mostrarLogs("Mouse Over Mute On");video_intext_mute.adsManager_.setVolume(0)})}function_Started();if(this.adsManager_){var t=this.adsManager_;countdownTimer=setInterval(function(){var e=t.getRemainingTime();var n=Math.floor(e);if(n>0){document.getElementById("timead").innerHTML=prerollConfig.textInfo+" "+n+" segundos..."}else{document.getElementById("timead").innerHTML="";clearInterval(countdownTimer)}},1e3)}}};Ads.prototype.onAdError_=function(e){mostrarLogs("Ad error: "+e.getError().toString());if(this.adsManager_){this.adsManager_.destroy()}function_Complete()};Ads.prototype.muted=function(){mostrarLogs("muted");this.adsManager_.setVolume(0)};Ads.prototype.unmuted=function(){mostrarLogs("unmuted");this.adsManager_.setVolume(1)};var VideoPlayer=function(){this.contentPlayer=document.getElementById("PrerollContent");this.adContainer=document.getElementById("PrerollAdcontainer");this.videoPlayerContainer_=document.getElementById("PrerollPlayer");this.width=prerollConfig.prerollWidth;this.height=prerollConfig.prerollHeight};VideoPlayer.prototype.preloadContent=function(e){if(this.isMobilePlatform()){this.contentPlayer.addEventListener("loadedmetadata",e,false);this.contentPlayer.load()}else{e()}this.contentPlayer.play()};VideoPlayer.prototype.play=function(){this.contentPlayer.play()};VideoPlayer.prototype.pause=function(){this.contentPlayer.pause()};VideoPlayer.prototype.muted=function(){this.contentPlayer.muted=true};VideoPlayer.prototype.unmuted=function(){this.contentPlayer.muted=false};VideoPlayer.prototype.isMobilePlatform=function(){return this.contentPlayer.paused&&(navigator.userAgent.match(/(iPod|iPhone|iPad)/)||navigator.userAgent.toLowerCase().indexOf("android")>-1)};VideoPlayer.prototype.resize=function(e,t,n,r,i){this.videoPlayerContainer_.style.position=e;this.videoPlayerContainer_.style.top=t+"px";this.videoPlayerContainer_.style.left=n+"px";this.videoPlayerContainer_.style.width=r+"px";this.videoPlayerContainer_.style.height=i+"px";this.contentPlayer.style.width=r+"px";this.contentPlayer.style.height=i+"px"};VideoPlayer.prototype.registerVideoEndedCallback=function(e){this.contentPlayer.addEventListener("ended",e,false)}

/*
function runPlayer(){if(checkAdBlock()){var e=null;mostrarLogs("Cargando reproductor");if(checkIE()&&(checkIE()<=10||prerollConfig.type=="intext")){mostrarLogs(checkIE());function_Complete();return false}if(!$("#"+prerollConfig.idPlayer).length){mostrarLogs("Error ID no valido: "+prerollConfig.idPlayer);function_Complete();return false}$("head").append($('<link rel="stylesheet" type="text/css" />').attr("href",prerollConfig.css));$("#"+prerollConfig.idPlayer).html((prerollConfig.cerrar=="on"?'<div id="close_video" class="btn" onClick="function_Complete();">Cerrar Publicidad</div>':"")+'<div id="PrerollPlayer">'+'<video id="PrerollContent" '+(prerollConfig.VideoMp4||prerollConfig.VideoWebm||prerollConfig.VideoOgg?"":'style="display: none;"')+">"+(prerollConfig.VideoMp4?'<source src="'+prerollConfig.VideoMp4+'" type="video/mp4">':"")+(prerollConfig.VideoWebm?'<source src="'+prerollConfig.VideoWebm+'" type="video/webm">':"")+(prerollConfig.VideoOgg?'<source src="'+prerollConfig.VideoOgg+'" type="video/ogg">':"")+"</video>"+'<div id="PrerollAdcontainer"></div>'+(!prerollConfig.buttons?'<div id="video_controls" '+(prerollConfig.VideoMp4||prerollConfig.VideoWebm||prerollConfig.VideoOgg?"":'style="display: none;"')+">"+'<button id="playpause"><i class="prerroll-play"></i></button>'+'<label id="timead"></label>'+'<button id="muted"><i class="prerroll-volume-high"></i></button>'+"</div>":'<div id="video_controls" style="position: relative; top: -1000px;">'+'<button id="playpause"><i class="prerroll-play"></i></button>'+'<label id="timead"></label>'+'<button id="muted"><i class="prerroll-volume-high"></i></button>'+"</div>")+"</div>");if(prerollConfig.cerrar=="on"){prerollConfig.prerollHeight=prerollConfig.prerollHeight+35}$("#PrerollPlayer").css({width:prerollConfig.prerollWidth,height:prerollConfig.prerollHeight});try{$.getScript("http://s0.2mdn.net/instream/html5/ima3.js",function(){mostrarLogs("Libreria IMA cargada");e=new Application;if(prerollConfig.show!="off"){prerollShow()}control_video()})}catch(t){mostrarLogs(t)}}}function prerollShow(){mostrarLogs("Mostrar preroll");$("#video_controls").show();$("#playpause").click()}function control_video(){video=document.getElementById("PrerollContent");video.addEventListener("loadedmetadata",function(){prerollConfig.vLength=Math.floor(video.duration)},false);video.addEventListener("timeupdate",function(){prerollConfig.vTime=video.currentTime;document.getElementById("timead").textContent=secondToTime(prerollConfig.vLength-prerollConfig.vTime)+" / "+secondToTime(prerollConfig.vTime)},false)}function secondToTime(e){var t=new Date(Math.floor(e)*1e3);var n=t.getHours()==0?23:t.getHours()-1;var n=n<9?"0"+n:n;var r=t.getMinutes()<9?"0"+t.getMinutes():t.getMinutes();var i=t.getSeconds()<9?"0"+t.getSeconds():t.getSeconds();return n+":"+r+":"+i}function check_variables_preroll(){if(prerollConfig!==undefined&&prerollConfig!==""){prerollConfig=JSON&&JSON.parse(prerollConfig)||$.parseJSON(prerollConfig);mostrarLogs(prerollConfig,"dir");if(!prerollConfig.idPlayer){mostrarLogs("Error: No se ha indicado el la capa del reproductor");function_Complete();return false}if(!prerollConfig.urlPublicidad){mostrarLogs("Error: No se ha indicado el la capa del reproductor");function_Complete();return false}else{mostrarLogs("Url Publicidad: "+prerollConfig.urlPublicidad)}if(!prerollConfig.urlJquery){prerollConfig.urlJquery="http://ajax.googleapis.com/ajax/libs/jquery/2.1.0/jquery.min.js"}if(!prerollConfig.prerollWidth){prerollConfig.prerollWidth=640}if(!prerollConfig.prerollHeight){prerollConfig.prerollHeight=360}if(!prerollConfig.autoplay){prerollConfig.autoplay="on"}if(!prerollConfig.show){prerollConfig.show="on"}if(!prerollConfig.mute){prerollConfig.mute="off"}if(!prerollConfig.buttons){prerollConfig.buttons=true}if(!prerollConfig.css){prerollConfig.css="http://img.rincondelvago.com/js/preroll/preroll_html5.css"}if(!prerollConfig.adBlockText){prerollConfig.adBlockText=""}if(!prerollConfig.textInfo){prerollConfig.textInfo="La descarga comenzar谩 en"}if(!prerollConfig.cerrar){prerollConfig.cerrar="off"}if(prerollConfig.VideoMp4){mostrarLogs("Url Video Mp4: "+prerollConfig.VideoMp4)}if(prerollConfig.VideoWebm){mostrarLogs("Url Video Webm: "+prerollConfig.VideoWebm)}if(prerollConfig.VideoOgg){mostrarLogs("Url Video Ogg: "+prerollConfig.VideoOgg)}$("head").append('<style type="text/css">'+'@font-face {font-family: "preroll";src: url(data:application/x-font-ttf;charset=utf-8;base64,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) format("truetype"),url(data:application/font-woff;charset=utf-8;base64,d09GRk9UVE8AAAWAAAoAAAAABTgAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAABDRkYgAAAA9AAAAfUAAAH1u5aXUE9TLzIAAALsAAAAYAAAAGAIIvy5Y21hcAAAA0wAAABMAAAATBpVzFpnYXNwAAADmAAAAAgAAAAIAAAAEGhlYWQAAAOgAAAANgAAADb/oHnKaGhlYQAAA9gAAAAkAAAAJAQCAglobXR4AAAD/AAAACAAAAAgCSAAoG1heHAAAAQcAAAABgAAAAYACFAAbmFtZQAABCQAAAE5AAABOUFGytFwb3N0AAAFYAAAACAAAAAgAAMAAAEABAQAAQEBCHByZXJvbGwAAQIAAQA6+BwC+BsD+BgEHgoAGVP/i4seCgAZU/+LiwwHi2v4tPh0BR0AAACIDx0AAACNER0AAAAJHQAAAewSAAkBAQgPERMWGyAlKnByZXJvbGxwcmVyb2xsdTB1MXUyMHVFNjAwdUU2MDF1RTYwMnVFNjAzAAACAYkABgAIAgABAAQABwAKAA0AWQEfAS0BS/yUDvyUDvyUDvuUDvdd+E0VmJiVhot5CIv8MgWLeYGHfpcI+w33DTuLi/dU24v3DfcNBfer+6MVi2Fhi1XBVVVhi4u1wcFVwYu1tYvBVcHBtYuLYVVVBQ6r+FGeFYWLhY2GkIKUi5uUlLe3o8WLyYvJc8Vft4KUi5uUlJSUm4uUgsBWqEWLQItAbkVWVgiGhoWJhYsINrgVhYuEjoePgZWLmpWUzM2L9UrNgZSLmpWVlJSai5WCtGKhVYtRi1F1VWJihoeFiIWLCDa4FYSLhY6HkIGUi5qVlLO0i81jtIGUi5qVlJSVmouUgcdQiytPUIeGhYiFiwhB9+AVmJiVhot5CIv8MgWLeYGHfpcI+w33DTuLi/dU24v3DfcNBQ7r+DQV99T7VPvU+1QFDsv4NBX3NIuL/BT7NIsF93T4FBX3NIuL/BT7NIsFDviUFPiUFYsMCgAAAAADAgABkAAFAAABTAFmAAAARwFMAWYAAAD1ABkAhAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAAAAAAAEAAAOYDAeD/4P/gAeAAIAAAAAEAAAAAAAAAAAAAACAAAAAAAAIAAAADAAAAFAADAAEAAAAUAAQAOAAAAAoACAACAAIAAQAg5gP//f//AAAAAAAg5gD//f//AAH/4xoEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAQAAJzFnG18PPPUACwIAAAAAAM8xHIoAAAAAzzEcigAAAAACIAG5AAAACAACAAAAAAAAAAEAAAHg/+AAAAIgAAAAAAIgAAEAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAQAAAAIAAAACIAAAAgAAYAIAAEAAAFAAAAgAAAAAAA4ArgABAAAAAAABAA4AAAABAAAAAAACAA4ARwABAAAAAAADAA4AJAABAAAAAAAEAA4AVQABAAAAAAAFABYADgABAAAAAAAGAAcAMgABAAAAAAAKACgAYwADAAEECQABAA4AAAADAAEECQACAA4ARwADAAEECQADAA4AJAADAAEECQAEAA4AVQADAAEECQAFABYADgADAAEECQAGAA4AOQADAAEECQAKACgAYwBwAHIAZQByAG8AbABsAFYAZQByAHMAaQBvAG4AIAAxAC4AMABwAHIAZQByAG8AbABscHJlcm9sbABwAHIAZQByAG8AbABsAFIAZQBnAHUAbABhAHIAcAByAGUAcgBvAGwAbABHAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4AAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA==) format("woff");font-weight: normal;font-style: normal;}'+'[class^="prerroll-"], [class*=" prerroll-"] {font-family: "preroll";speak: none;font-style: normal;font-weight: normal;font-variant: normal;text-transform: none;line-height: 1;-webkit-font-smoothing: antialiased;-moz-osx-font-smoothing: grayscale;}'+'.prerroll-volume-mute:before {content: "\\e600";}'+'.prerroll-volume-high:before {content: "\\e601";}'+'.prerroll-play:before {content: "\\e602";}'+'.prerroll-pause:before {content: "\\e603";}'+"</style>");return true}else{return false}}function function_Started(){$("#PrerollPlayer").removeClass("hide");if(prerollConfig.type=="intext"){video_intext_inicio()}if(prerollConfig.functionStarted){mostrarLogs("Funcion comienzo ejecutada: "+prerollConfig.functionStarted);eval(prerollConfig.functionStarted+"()")}}function function_FirstQuartile(){if(prerollConfig.functionFirstQuartile){mostrarLogs("Funcion primer cuarto ejecutada: "+prerollConfig.functionFirstQuartile);eval(prerollConfig.functionFirstQuartile+"()")}}function function_Midpoint(){if(prerollConfig.functionMidpoint){mostrarLogs("Funcion intermedia ejecutada: "+prerollConfig.functionMidpoint);eval(prerollConfig.functionMidpoint+"()")}}function function_ThirdQuartile(){if(prerollConfig.functionThirdQuartile){mostrarLogs("Funcion tercer cuarto ejecutada: "+prerollConfig.functionThirdQuartile);eval(prerollConfig.sfunctionThirdQuartile+"()")}}function function_Complete(){if(prerollConfig.type=="intext"){video_intext_fin()}if(prerollConfig.functionComplete){mostrarLogs("Funcion final ejecutada: "+prerollConfig.functionComplete);eval(prerollConfig.functionComplete+"()")}if(document.getElementById("timead")!=null){document.getElementById("timead").innerHTML=""}}function mostrarLogs(){if(prerollConfig.logs){console.log("Preroll - "+arguments[0]);if(arguments[1]=="dir"){console.dir(arguments[0])}}}function checkIE(){if(navigator.appName=="Microsoft Internet Explorer"){ie=true;ieVersion=false;var e=navigator.userAgent;var t=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})");if(t.exec(e)!=null){ieVersion=parseInt(RegExp.$1)}mostrarLogs("Versi贸n IE: "+ieVersion);return ieVersion}return false}function checkAdBlock(){$("body").append('<div class="adzone" style="display:none;">&nbsp;</div>');if($(".adzone").height()==0){mostrarLogs("AdBlock activado");if(prerollConfig.adBlockText!=""){$("#"+prerollConfig.idPlayer).html(prerollConfig.adBlockText).css({background:"none",color:"red"})}else{function_Complete()}return false}else{return true}}function video_intext(){$(document).scroll(function(){var e=$("#"+prerollConfig.idPlayer).offset().top+$("#"+prerollConfig.idPlayer).outerHeight()+prerollConfig.prerollHeight;var t=$("#"+prerollConfig.idPlayer).offset().top+prerollConfig.prerollHeight/2+prerollConfig.video_intext_margin_bottom/2;var n=$(document).scrollTop()+$(window).height()-prerollConfig.video_intext_margin_bottom;if(n>e&&!video_intext_show&&!video_intext_pause){video_intext_show=true;runPlayer()}else if(n<t&&video_intext_show&&!video_intext_pause){mostrarLogs("Video en pausa abajo");video_intext_pause=true;$("#playpause").click()}else if(n-prerollConfig.video_intext_margin_bottom/2>e&&video_intext_show&&!video_intext_pause){mostrarLogs("Video en pausa arriba");video_intext_pause=true;$("#playpause").click()}else if(n>t&&n-prerollConfig.video_intext_margin_bottom/2<e&&video_intext_show&&video_intext_pause){video_intext_pause=false;mostrarLogs("Video continuar");$("#playpause").click()}mostrarLogs("Intext -> window bottom: "+n);mostrarLogs("Intext -> video bottom: "+e);mostrarLogs("Intext -> video pause bottom: "+t)})}function video_intext_inicio(){mostrarLogs("inicio anuncio");prerollConfig.video_intext_show=true;$("#"+prerollConfig.idPlayer).animate({width:prerollConfig.prerollWidth+"px",height:prerollConfig.prerollHeight+"px"},500).delay(500).queue(function(){$(this).css("opacity","1").dequeue()})}function video_intext_fin(){mostrarLogs("fin anuncio");$("#"+prerollConfig.idPlayer).animate({width:"1px",height:"1px"},500).css("opacity","0").queue(function(){$(this).html("").dequeue()})}var prerollConfig="";var video_intext_show=false;var video_intext_pause=false;var video_intext_mute="off";window.onload=function(){if(check_variables_preroll()){mostrarLogs("Variables de configuraci贸n validas");if(typeof jQuery!=="function"){mostrarLogs("Sin jQuery: Cargarndo jQuery");var e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("src",urlJquery);e.onload=function(){mostrarLogs("jquery cargado");if(prerollConfig.autoplay!="off"){runPlayer()}};document.getElementsByTagName("head")[0].appendChild(e)}else{mostrarLogs("Con jQuery");if(prerollConfig.type=="intext"){video_intext()}if(prerollConfig.autoplay!="off"){runPlayer()}}}else{mostrarLogs("Error en la configuraci贸n del preroll")}};var countdownTimer;var Application=function(){this.playButton_=document.getElementById("playpause");this.playButton_.addEventListener("click",this.bind_(this,this.onClick_),false);this.muteButton=document.getElementById("muted");this.muteButton.addEventListener("click",this.bind_(this,this.onMuteClick_),false);this.muted=false;this.playing_=false;this.adsActive_=false;this.adsDone_=false;this.videoPlayer_=new VideoPlayer;this.ads_=new Ads(this,this.videoPlayer_);this.adTagUrl_=prerollConfig.urlPublicidad;this.videoPlayer_.registerVideoEndedCallback(this.bind_(this,this.onContentEnded_))};Application.prototype.log=function(e){mostrarLogs(e)};Application.prototype.resumeAfterAd=function(){this.videoPlayer_.play();this.adsActive_=false;this.updateChrome_()};Application.prototype.pauseForAd=function(){this.adsActive_=true;this.playing_=true;this.videoPlayer_.pause();this.updateChrome_()};Application.prototype.adClicked=function(){this.playing_=false;this.updateChrome_()};Application.prototype.adCounter=function(){this.ads_.Counter_()};Application.prototype.bind_=function(e,t){return function(){t.apply(e,arguments)}};Application.prototype.onClick_=function(){if(!this.adsDone_){this.ads_.initialUserAction();this.videoPlayer_.preloadContent(this.bind_(this,this.loadAds_));this.adsDone_=true;return}if(this.adsActive_){if(this.playing_){this.ads_.pause()}else{this.ads_.resume()}}else{if(this.playing_){this.videoPlayer_.pause()}else{this.videoPlayer_.play()}}this.playing_=!this.playing_;this.updateChrome_()};Application.prototype.onMuteClick_=function(){if(this.muted==false){this.videoPlayer_.muted();this.ads_.muted();this.muted=true;document.getElementById("muted").innerHTML='<i class="prerroll-volume-mute"></i>'}else{this.videoPlayer_.unmuted();this.ads_.unmuted();this.muted=false;document.getElementById("muted").innerHTML='<i class="prerroll-volume-high"></i>'}};Application.prototype.updateChrome_=function(){if(this.playing_){document.getElementById("playpause").innerHTML='<i class="prerroll-pause"></i>'}else{document.getElementById("playpause").innerHTML='<i class="prerroll-play"></i>'}};Application.prototype.loadAds_=function(){this.ads_.requestAds(this.adTagUrl_)};Application.prototype.onContentEnded_=function(){this.ads_.contentEnded()};var countdownTimer;var Ads=function(e,t){this.application_=e;this.videoPlayer_=t;this.contentCompleteCalled_=false;this.adDisplayContainer_=new google.ima.AdDisplayContainer(this.videoPlayer_.adContainer);this.adsLoader_=new google.ima.AdsLoader(this.adDisplayContainer_);this.adsManager_=null;this.adsLoader_.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,this.onAdsManagerLoaded_,false,this);this.adsLoader_.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,false,this)};Ads.prototype.initialUserAction=function(){this.adDisplayContainer_.initialize()};Ads.prototype.requestAds=function(e){var t=new google.ima.AdsRequest;t.adTagUrl=e;t.linearAdSlotWidth=this.videoPlayer_.width;t.linearAdSlotHeight=this.videoPlayer_.height;t.nonLinearAdSlotWidth=this.videoPlayer_.width;t.nonLinearAdSlotHeight=this.videoPlayer_.height;this.adsLoader_.requestAds(t)};Ads.prototype.pause=function(){if(this.adsManager_){this.adsManager_.pause()}};Ads.prototype.resume=function(){if(this.adsManager_){this.adsManager_.resume()}};Ads.prototype.resize=function(e,t){if(this.adsManager_){this.adsManager_.resize(e,t,google.ima.ViewMode.FULLSCREEN)}};Ads.prototype.contentEnded=function(){this.contentCompleteCalled_=true;this.adsLoader_.contentComplete()};Ads.prototype.onAdsManagerLoaded_=function(e){mostrarLogs("Ads loaded.");this.adsManager_=e.getAdsManager(this.videoPlayer_.contentPlayer);this.processAdsManager_(this.adsManager_)};Ads.prototype.processAdsManager_=function(e){e.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,this.onContentPauseRequested_,false,this);e.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,this.onContentResumeRequested_,false,this);e.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,this.onAdError_,false,this);var t=[google.ima.AdEvent.Type.ALL_ADS_COMPLETED,google.ima.AdEvent.Type.CLICK,google.ima.AdEvent.Type.COMPLETE,google.ima.AdEvent.Type.FIRST_QUARTILE,google.ima.AdEvent.Type.LOADED,google.ima.AdEvent.Type.MIDPOINT,google.ima.AdEvent.Type.PAUSED,google.ima.AdEvent.Type.STARTED,google.ima.AdEvent.Type.THIRD_QUARTILE];for(var n in t){e.addEventListener(t[n],this.onAdEvent_,false,this)}var r,i;r=this.videoPlayer_.width;i=this.videoPlayer_.height;e.init(r,i,google.ima.ViewMode.NORMAL);e.start()};Ads.prototype.onContentPauseRequested_=function(e){this.application_.pauseForAd()};Ads.prototype.onContentResumeRequested_=function(e){if(!this.contentCompleteCalled_){this.application_.resumeAfterAd()}};Ads.prototype.onAdEvent_=function(e){mostrarLogs("Ad event: "+e.type);if(e.type==google.ima.AdEvent.Type.CLICK){this.application_.adClicked()}if(e.type==google.ima.AdEvent.Type.FIRST_QUARTILE){function_FirstQuartile()}if(e.type==google.ima.AdEvent.Type.MIDPOINT){function_Midpoint()}if(e.type==google.ima.AdEvent.Type.THIRD_QUARTILE){function_ThirdQuartile()}if(e.type==google.ima.AdEvent.Type.COMPLETE){function_Complete();clearInterval(countdownTimer)}if(e.type==google.ima.AdEvent.Type.ALL_ADS_COMPLETED){function_Complete();clearInterval(countdownTimer)}if(e.type==google.ima.AdEvent.Type.STARTED){if(prerollConfig.mute=="on"){this.adsManager_.setVolume(0)}video_intext_mute=this;if(prerollConfig.type=="intext"){$("#PrerollPlayer").mouseover(function(){mostrarLogs("Mouse Over Mute Off");video_intext_mute.adsManager_.setVolume(1)});$("#PrerollPlayer").mouseout(function(){mostrarLogs("Mouse Over Mute On");video_intext_mute.adsManager_.setVolume(0)})}function_Started();if(this.adsManager_){var t=this.adsManager_;countdownTimer=setInterval(function(){var e=t.getRemainingTime();var n=Math.floor(e);if(n>0){document.getElementById("timead").innerHTML=prerollConfig.textInfo+" "+n+" segundos..."}else{document.getElementById("timead").innerHTML="";clearInterval(countdownTimer)}},1e3)}}};Ads.prototype.onAdError_=function(e){mostrarLogs("Ad error: "+e.getError().toString());if(this.adsManager_){this.adsManager_.destroy()}function_Complete()};Ads.prototype.muted=function(){mostrarLogs("muted");this.adsManager_.setVolume(0)};Ads.prototype.unmuted=function(){mostrarLogs("unmuted");this.adsManager_.setVolume(1)};var VideoPlayer=function(){this.contentPlayer=document.getElementById("PrerollContent");this.adContainer=document.getElementById("PrerollAdcontainer");this.videoPlayerContainer_=document.getElementById("PrerollPlayer");this.width=prerollConfig.prerollWidth;this.height=prerollConfig.prerollHeight};VideoPlayer.prototype.preloadContent=function(e){if(this.isMobilePlatform()){this.contentPlayer.addEventListener("loadedmetadata",e,false);this.contentPlayer.load()}else{e()}this.contentPlayer.play()};VideoPlayer.prototype.play=function(){this.contentPlayer.play()};VideoPlayer.prototype.pause=function(){this.contentPlayer.pause()};VideoPlayer.prototype.muted=function(){this.contentPlayer.muted=true};VideoPlayer.prototype.unmuted=function(){this.contentPlayer.muted=false};VideoPlayer.prototype.isMobilePlatform=function(){return this.contentPlayer.paused&&(navigator.userAgent.match(/(iPod|iPhone|iPad)/)||navigator.userAgent.toLowerCase().indexOf("android")>-1)};VideoPlayer.prototype.resize=function(e,t,n,r,i){this.videoPlayerContainer_.style.position=e;this.videoPlayerContainer_.style.top=t+"px";this.videoPlayerContainer_.style.left=n+"px";this.videoPlayerContainer_.style.width=r+"px";this.videoPlayerContainer_.style.height=i+"px";this.contentPlayer.style.width=r+"px";this.contentPlayer.style.height=i+"px"};VideoPlayer.prototype.registerVideoEndedCallback=function(e){this.contentPlayer.addEventListener("ended",e,false)}
*/Zp硐      WW<^lWq0O   =:http://img.rincondelvago.com/js/preroll/preroll_html5.min.js necko:classified 1 request-method GET response-head HTTP/1.1 200 OK
Date: Thu, 21 Apr 2016 16:18:34 GMT
Server: Apache
Last-Modified: Thu, 19 Jun 2014 08:06:27 GMT
Etag: "86966d-a4fc-4fc2bda8846c0"
Accept-Ranges: bytes
Content-Length: 42236
Content-Type: application/javascript
 uncompressed-len 0   